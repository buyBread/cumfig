
echo "[CUMFIG: exec] gfx"

//
// - level of detail -
//

r_rootlod 0 // model details -> 0: high
            //                  1: medium
            //                  2: low

alias models "echo "model details: high""

r_lod -1               // use r_rootlod to properly fade through LODs

lod_TransitionDist 800 // start fading map objects when they are far away

mat_max_worldmesh_vertices 65536 // use maximum mesh vertices to reduce mesh count

//
// - lighting -
//

r_ambientmin 0.5 // balanced ambient boosting

r_lightaverage 1 // reduce popping

r_dynamic 1	// dynamic lighting
r_maxdlights 28

r_worldlightmin 0.004 // do not render insignificant world lighting

mat_disable_lightwarp 1

mat_filterlightmaps 1

mat_phong 0 // disable phong

//
// - shadows -
//

r_shadows 1                 // render shadows
r_shadowrendertotexture 1   // shadows -> medium

r_flashlightdepthtexture 1  // shadows -> high
r_flashlightdepthres 512
r_flashlightrender 1
r_flashlightmodels 1

alias shadows "echo "shadows: high""

cl_blobbyshadows 0

r_shadowmaxrendered 18 // shadow render limit

//
// - effects -
//

cl_ejectbrass 1 // shell ejection

muzzleflash_light 1
cl_muzzleflash_dlight_1st 1

tracer_extra 1 // make bullet lines more visable
r_drawtracers_firstperson 1 // enable first person weapon tracers

cl_show_splashes 1 // water splashes

cl_fasttempentcollision 15 // check collisions every 15 frames

//
// - water -
//

// cheap water
r_cheapwaterstart 650
r_cheapwaterend 900

r_WaterDrawReflection 1
r_WaterDrawRefraction 1

r_waterforceexpensive 1 // water -> 0: simple reflections
                        //          1: reflect world
r_waterforcereflectentities 0 //    1: reflect all

alias water "echo "water: reflect world""

r_ForceWaterLeaf 1 // optimize water

// - particles -

cl_particle_batch_mode 1

tf_particles_disable_weather 0 // don't disable weather particles

mat_reduceparticles 0

cl_new_impact_effects 0 // use the old system for bullet impacts
r_drawflecks 0

r_particle_sim_spike_threshold_ms 0 // early finish to unused particle performance stats

//
// - post processing -
//

mat_postprocessing_combine 1 // combine post processing effects

mat_hdr_level 2 // hdr -> 0: off
                //        1: bloom
                //        2: full

alias hdr "echo "hdr: full""

mat_colorcorrection 1
mat_colcorrection_disableentities 0

mat_non_hdr_bloom_scalefactor 0.3 // bloom scale on ldr
r_bloomtintexponent 2.2           // intensity of the bloom effect
mat_bloom_scalefactor_scalar 1    // intensity of bloom emitters

building_cubemaps 0

mat_postprocess_x 4 // tessellate post processing slightly more
mat_postprocess_y 4 // ditto

mat_motion_blur_enabled 0 // disable motion blur

// pyrovision

// pretty much just disable
pyro_dof 0
pyro_vignette 0

// aa

mat_alphacoverage 1 // improve aa on thin overlapping surfaces

// software aa
mat_software_aa_strength 0
mat_software_aa_strength_vgui 1
mat_software_aa_quality 0
mat_software_aa_edge_threshold 0.5
mat_software_aa_blur_one_pixel_lines 0.5

// 4x
mat_antialias 4
mat_aaquality 0

// texture filtering

// 4x
mat_trilinear 1
mat_forceaniso 4;

//
// - characters -
//

cl_SetupAllBones 0 // don't force every animation component of a model to be set up

mp_usehwmmodels 0 // use high quality characters if supported

r_flex 1 // facial animations
flex_rules 1
flex_smooth 1

anim_3wayblend 0

ai_expression_frametime 0.0151

r_teeth 1 // render teeth

r_eyes 1 // render eyes
r_eyemove 1 // allow character eyes to move

// preference
tf_clientsideeye_lookats 0
blink_duration 0

phonemefilter 0.05
phonemesnap 2

//
// - decals -
//

// optimized decal count
r_decals 96
mp_decals 96

r_drawbatchdecals 1 // always batch decals to reduce calls

r_decal_cullsize 128 // hide decals unless they are relatively big

// balanced decal overlap
r_decal_cover_count 4
r_decal_overlap_area 0.8

// enable player spray
cl_playerspraydisable 0
r_spray_lifetime 2

//
// - model decals -
//

r_drawmodeldecals 1 // blood decals
r_maxmodeldecal 9

//
// - map decals -
//

r_renderoverlayfragment 1 // overlays on walls (logos, posters, etc.)

r_overlayfadeenable 1
r_overlayfademax 2000
r_overlayfademin 1750

//
// - gibs -
//

cl_burninggibs 1 // gibs burn

props_break_max_pieces 2 // gibs break into max 2 pieces

violence_hgibs 1 // normal gibs
violence_hblood 1 // normal blood

//
// - props -
//

r_drawdetailprops 1 // sprites, grass etc.

r_decalstaticprops 1 // decals on props

cl_phys_props_enable 0

r_propsmaxdist 1000 

cl_detaildist 1000
cl_detailfade 100

r_PhysPropStaticLighting 1 // use premade lighting for props

r_staticprop_lod -1 // automatic LOD for props

//
// - ragdolls -
//

cl_ragdoll_forcefade 0 // enable ragdolls
cl_ragdoll_fade_time 3 // ragdoll fade out time

cl_ragdoll_physics_enable 1 // ragdoll physics

cl_ragdoll_collide 0 // disable ragdoll collisions

ragdoll_sleepaftertime 1 // wait before sleeping ragdoll physics

g_ragdoll_fadespeed 10000   // rate of ragdolls fading
g_ragdoll_lvfadespeed 10000 // ditto but in low violence

//
// - texture -
//

mat_picmip -1 // texture quality -> -1: very high
              //                     0: high
              //                     1: medium
              //                     2: low

alias textures "echo "texture quality: very high""

mat_filtertextures 1

mat_disable_fancy_blending 0 

mat_bumpmap 1

mat_specular 1

// - ropes -

rope_rendersolid 1 // render solid part of the ropes
r_ropetranslucent 1 // simulate ropes

rope_solid_minalpha 0.2
rope_solid_minwidth 0.1

rope_smooth 1 // smooth ropes with a fake transparent rope

rope_subdiv 2 // subdivide ropes

rope_collide 0 // disabled due to being a cpu heavy task
rope_wind_dist 0 // ditto

//
// - general -
//

mat_reducefillrate 0 // shader -> 0: high
                     //           1: low

alias shader "echo "shader: high""

mat_viewportscale 1   // adjust the render resolution
mat_viewportupscale 1 // upscale when using above

r_3dsky 1 // turn on 3d sky

r_dopixelvisibility 1   // enable visibility testing for glows, halos and pretty lights
r_drawpixelvisibility 0 // debug cvar

r_pixelvisibility_partial 0 // don't use a costly algorithm

cl_jiggle_bone_framerate_cutoff 67 // disable jiggle bones under a heavy load

glow_outline_effect_enable 1 // disable if high fps drop upon respawning

tf_spec_xray_disable 0

cl_dynamiccrosshair 1

echo "[CUMFIG: DEBUG] graphical settings applied"